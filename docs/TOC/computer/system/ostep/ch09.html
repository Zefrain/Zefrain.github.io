<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-TOC/computer/system/ostep/ch09" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">9 Scheduling: Proportional Share | Zefrain&#x27;s Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/docs/TOC/computer/system/ostep/ch09"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="9 Scheduling: Proportional Share | Zefrain&#x27;s Blog"><meta data-rh="true" name="description" content="lottery scheduling basic idea: every so often, hold a lottery to determine which process should get to run next; processes that should run more often should be given more chances to win the lottery"><meta data-rh="true" property="og:description" content="lottery scheduling basic idea: every so often, hold a lottery to determine which process should get to run next; processes that should run more often should be given more chances to win the lottery"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://github.com/docs/TOC/computer/system/ostep/ch09"><link data-rh="true" rel="alternate" href="https://github.com/docs/TOC/computer/system/ostep/ch09" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/docs/TOC/computer/system/ostep/ch09" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Zefrain&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Zefrain&#39;s Blog Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.62a5df5e.css">
<script src="/assets/js/runtime~main.2ee0a247.js" defer="defer"></script>
<script src="/assets/js/main.f876e2fc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Homepage</b></a><a class="navbar__item navbar__link" href="/docs/category/TOC">NOTEs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Zefrain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/toc">TOC</a><button aria-label="Collapse sidebar category &#x27;TOC&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/computer-science">Computer Science</a><button aria-label="Collapse sidebar category &#x27;Computer Science&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/computer-architecture--quantitative-approach">Computer Architecture &amp; Quantitative Approach</a><button aria-label="Expand sidebar category &#x27;Computer Architecture &amp; Quantitative Approach&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/distributed-system">Distributed System</a><button aria-label="Expand sidebar category &#x27;Distributed System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/linux-kernel">Linux Kernel</a><button aria-label="Expand sidebar category &#x27;Linux Kernel&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/system">System</a><button aria-label="Collapse sidebar category &#x27;System&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/computer-systems-a-programmers-perspective">Computer Systems: A Programmer&#x27;s Perspective</a><button aria-label="Expand sidebar category &#x27;Computer Systems: A Programmer&#x27;s Perspective&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/operating-systems-three-easy-pieces">Operating Systems Three Easy Pieces</a><button aria-label="Collapse sidebar category &#x27;Operating Systems Three Easy Pieces&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch02">2 Introduction to Operating Systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch04">4 The Abstraction: The Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch05">5 Interlude: Process API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch06">6 Mechanism: Limited Direct Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch07">7 Scheduling: Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch08">8 Scheduling: The Multi-Level Feedback Queue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/TOC/computer/system/ostep/ch09">9 Scheduling: Proportional Share</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch10">10 Multiprocessor Scheduling (Advanced)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch11">11 Summary Dialogue on CPU virtualization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch13">13 The Abstraction: Address Spaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch15">15 Mechanism: Address Translation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch16">16 Segmentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch17">17 Free-Space Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch18">18 Paging: Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch19">19 Paging: Faster Translations (TLBs)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch20">20 Paging: Smaller Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/TOC/computer/system/ostep/ch33">Event-based Concurrency (Advanced)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/advanced-programming-in-the-unix-environment">Advanced Programming in the Unix Environment</a><button aria-label="Expand sidebar category &#x27;Advanced Programming in the Unix Environment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/the-linux-programming-interface">The Linux Programming Interface</a><button aria-label="Expand sidebar category &#x27;The Linux Programming Interface&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/networking">Networking</a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/category/算法-第-4-版">Algorithms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/TOC/computer/Code Pieces/Data Structure/circular queue">Code Pieces</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/category/programming-language">Programming Language</a><button aria-label="Collapse sidebar category &#x27;Programming Language&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/TOC/language/C++/C++_Primer/ch02">C++</a></div></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/toc"><span itemprop="name">TOC</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/computer-science"><span itemprop="name">Computer Science</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/system"><span itemprop="name">System</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/operating-systems-three-easy-pieces"><span itemprop="name">Operating Systems Three Easy Pieces</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">9 Scheduling: Proportional Share</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>9 Scheduling: Proportional Share</h1></header>
<p><strong>lottery scheduling</strong> basic idea: every so often, hold a lottery to determine which process should get to run next; processes that should run more often should be given more chances to win the lottery</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="91-basic-concept-tickets-represents-your-share">9.1 Basic Concept: Tickets Represents Your Share<a href="#91-basic-concept-tickets-represents-your-share" class="hash-link" aria-label="Direct link to 9.1 Basic Concept: Tickets Represents Your Share" title="Direct link to 9.1 Basic Concept: Tickets Represents Your Share">​</a></h2>
<p><strong>ticket</strong>: represents the share of a resource that a process should receive</p>
<p>The scheduler picks a winning ticket, the winning tickets determines whether A or B runs. The scheduler then loads the state of that winning process and runs it.</p>
<blockquote>
<p>TIP: Use Randomness</p>
<p>lottery scheduling is its use of <strong>randomness</strong>.</p>
<p>Random approaches advantages:</p>
<ol>
<li>random often avoids strange corner-case behaviors</li>
<li>random is lightweight, requiring little state to track alternatives.</li>
<li>random can be quite fast.</li>
</ol>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="92-ticket-mechanisms">9.2 Ticket Mechanisms<a href="#92-ticket-mechanisms" class="hash-link" aria-label="Direct link to 9.2 Ticket Mechanisms" title="Direct link to 9.2 Ticket Mechanisms">​</a></h2>
<p><strong>ticket currency</strong>, Currency allows a user with a set of tickets to allocate tickets among their own jobs in whatever currency they would like; the system then automatically coverts currency into the correct global value.</p>
<p><strong>ticket transfer</strong>, a process can temporarily hand off its tickets to another process.</p>
<p><strong>ticket inflation</strong>, a process can temporarily raise or lower the number of tickets it owns. if any one process knows it needs more CPU time, it can boost its ticket value as a way to reflect that need to the system, without communicating with any other processes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="93-implementation">9.3 Implementation<a href="#93-implementation" class="hash-link" aria-label="Direct link to 9.3 Implementation" title="Direct link to 9.3 Implementation">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20230129143755232" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAABZCAIAAABdfaHXAAAgAElEQVR4nO2deUATR9/HJ9klBwFyQUIIIIIgouJtrdpqrUd9bLVaz6r1qbUebR8VxVvRerY+fT3weDxaW621+mi1Hq3W6lPxPup9VRQlaggQCCSEZHNs9v1jkQYkMccm2eB8/oJNsjP57u43M7/5zQyDIAgAgUAgkPoLM9AVgEAgEIhvgUYPgUAg9Rxo9BAIBFLPgUYPgUAg9Rxo9BAIBFLPgUYPgUAg9Rxo9BAIBFLPQQNdAUgVOI4bjUaj0Wg2mwmCsNls5BQHJpPJYDAQBOFwOFwul81mMxiMQFeWdlitVlI9i8VCSmevHoqipHosFguq9zwWiwXDsDrVYzKZCIJwuVxSvUDXFOIh0OgDBkEQRqPRYDAYjUYMw8xmsyufYjAYpGdxuVwejxcSEuLretITgiAMBoPBYKh2KFc+xWQy7dVD0Zf0/rfZbOSNR2K1Wl35VHVrg1QPQRBf1xNCFQw4M9b/4DheVlam0WhctCcnhIeHi0SisLAwSioWFFitVo1GU1ZW5qI9OYLBYERERIhEotDQUKrqRn8sFgupHo7j3pyHwWDw+XyxWMzhcKiqG8R3QKP3KxiGlZaWarVaamVns9kikUggEDCZ9XnQxWAwaDQanU5HrXocDkckEvH5/Pqtnl6v12g0FRUV1J42NDRUJBJFRETAmBidgUbvJyorK4uLiw0Gg++KYDKZQqEwKiqq/vWpKyoqiouLMQzzXREIgohEosjIyPpn91qtVq1Wm0wm3xWBoqhYLBaLxdDu6Qk0ep9js9mKi4tLS0v9U1xISIhcLufxeP4pztfgOF5YWFheXu6f4thstlwu53K5/inO11it1oKCAspb8Y7gcDixsbFsNts/xUFcBxq9bzEYDEql0sWBVgoRiURSqTTYG6d6vb6goMD7kQx3iYyMlEgkwd441el0BQUFXsbi3YXBYEgkEti0pxvQ6H0FQRDFxcUlJSWBqgCLxZLL5UE60miz2QoLC8vKygJVATabHRsbG6QjjTiOq1QqrVYbqApwuVy5XA6b9vQBGr1PsFqtCoXCpzFlF5FKpZGRkYGuhXuYzWaFQuH/blAtGAyGTCYTCoWBrYa7YBimUCi8TEnyHgaDERsbGxEREdhqQEig0VOP1WrNz8/36diXW0gkkqioqEDXwlXMZnN+fr7/wzWOiImJCSKvxzAsPz/fz+EaR0Cvpw/BHcOlIXRzeQBAcXGxWq0OdC1cgm4uDwAoKCgIYATJLWjl8gAAgiCePn2q0+kCXREINHpKoaHLkwSF19PQ5UmCwuvp5vIk0OtpAjR6yqCty5PQ3Otp6/IkNPd6ero8CfR6OgCNnhoIgnj8+DFtXZ6kuLg4gJkYTrDZbI8fP6aty5MUFBRUVlYGuhZ1gOO4QqGgp8uTkF5Ph9yElxZo9NRQWlpqNBoDXYsXo1KpAp6P8TzFxcU0/40kUSqVNPRTel7TWhAEoVQqYepHoIBGTwEmk6m4uDjQtXAJHMcLCgoCXYsaGAwGv00b9hKLxVJUVBToWtRAp9PRs5f2PBiG0Tl4WL+BRu8tZLc0iJoqFRUVfltR4IXYbDalUhnoWrhBWVmZXq8PdC2qIFc4CHQt3ECtVgdFx7f+AY3eW0pKSoIu+KhSqWgSEC8qKgr4xCh3oU8AR6VS0aQmrqNUKm02W6Br8dIBjd4rgrQ3arPZ6NASrKys1Gg0ga6F21it1sLCwkDXAmi12mBMZTGZTMH4yAQ70Oi9oqSkJIiCNvbo9fqAd6KD94EvLy8PeJcoeNXTaDRB1xEJdl7SrdQowWq1utekwkuvHv71NrvdwB6pTtbKwov+/OVYQUz3Pm2lLi4rr7t15MAVNRLXYcAbyW4sI6XRaORyuevvpxaTyeRetiK16uFl14/8cr30WQyBgXD4kvi0du0aCVwUXaPRSKVSF+tOOZWVle7lKbmgnrs3Hvb06ulLdx4qnmps4dL4tE7dX0txTTybzVZeXi4Wi12uPcRbYIvec8rKytxrzhNl1/etWv3bPecRfVx9effa3ZfVLjd5Sk7/uPyr5V8uz95/xa00b61WG8C0PLeDNtSqR5TfOLB6xaYf9x88ePDgwYP7dn29fNbY90dM++GWixqWlZUFMNbsC/XcufGwh78s+WjYhzNX7Tqdqyr469R/V0weMXzaD7ddvQGDMWQX1MAWvYcQBEGPmxUvOptzpiLt9U4lF3Nyro5/tbPL28cSBFFeXh6QtS1xHKdD5g/nlbEb/69/1fevyDv476kL1q3/+dXs4Ykvfi5wHNfpdAKBwMd1rAOLxRLY6Hzlta2Llh40dpn97YzBzfkAAFCZf2z93Hlrl21L2zShlQsLY5vNZr1e/1LtdRxYYIveQ3Q6nffNYVPR3TOH9/yw8+djl/LKajekjMobJw/u2rnv2KWH5X+/hpfmXb30573CZ5kqeNGZnLNY67c+HfK6pOBUzmX39hLSaDQBGWMoLy/3vjnsrnq1patFeFKPXq/KzIonSlezgAKV/u99C8OrGw9XHd+x62b88Lmzq1weAMBL6P7xBz3D7h4+ds3VzTKDZfJE/QC26D3E64cNLzr39cIFGy6YE5Il5ie56siekxfOfj+dfHIIQ96+OWOO5PJieZqHj0yJ785YNLNvCgcAYLr544zP9jdffPT/3mUBAPCC0yfOW9t8+nrjdopO0ftO5VzUdnmT77RgeywWS0VFhf8Xkg2IerWkew6z8mG+hpPYML7OV+sAwzCDweDnrV0IgvBu1R2vb7zXLp89X9F8VM9mNZvjgi4ZW/fpEIGr6un1erPZzGK5+n6IN0Cj9wSr1ertNt/aM98s2ZDbJHPrwuFNI3D1xQ0zp6xc/mOzb8anMwAA1vvHrzZfvP2r3g05+tx9SzMXf7U+reVXg+NRwGrYbfzcZEEauamp9cnJE5cYr0x5PQ4NF7/WKXrviZMXyt7s6c7y6Tqdzs9Gj2GYt7nzHqkXU0M6AACw5J/etlbJAgDYLPqiO6cv6LpP/fydBm48FDqdzs9GX1lZ6VXKitc3nulJvsLAb9IwtrZDswUx8e4FsnQ6XdDtihOkwNCNJ3ifmFh5JeeEKqXfP99rGgEAQKLajxjRK/KvU2dyqwyQ9+rg0T0acgAAYSnvjBnS3nLh7EU1DgBAG3QcMHRItxQOAABY83NyroR06NpZhgAQ3rpzZ1np6Zzz7vWI/Z9kGSj1akgHAAAAL1Pcvn79+vXr12/eyVWUGAxlj+/cVbgT/Qo69Qxe33iE0WgAoVyOi9lJzgh4gu/LA2zRe4LXU2HxssJCDTsxMbHadHhJiQ3A7yqVBTQGAKCypCTJs2uDylObxOHnioqsQFbj6TLnncy5irEa52TPu8gAAFiLCJv6bM45dc+3o1x+DM1mM47jCELBc+siNFEPAMBpNfzL6sFYgGsub54+aeliUdKWCekupqliGEYQhD83wvZOPVu519IxwyPCgVarMwNQM1ET1z69/7QiVJ4S72qKKjR6vwFb9J7g6g2Kl+ZsmD1r7TFVVVfbbuCTwQCEzWY3DmqzHxS12Ww1eucEwURQtJabmO+f+OMG0rhF8xiRUCgUCoVRqW1aS8vPnTzremomAIAC53UPeqj3PIio5dvdWzDu377jun42m83PSzh4q57X0rEaJDUSVt65fadW7BIvOb5i9KhFhx67nqJgsVjgzCn/QJHRWx78til710UfpRta8o9vyd5xzk378grnGTUut0Ss6r+OHjmfpyFrjldU6PAQFgsBiChGLjE/uJ9b/bBo7+U+JBrI5SEAAABsBfdynz6rgVlx4+YTToP4WkFR090TOXe5nYZmZk6rZvro7nG6cyfPFrklFeUNKyfqEQTh8u+KL9WrE0xVVIKzeTyuO90bytVz4n1Wq9XlGbl1qseJ9F668LbdusUojuw5/Mj+F876JCfnkkneqmWSG3P2qFYPx3EPs8jwglPfr1618XBuzVlolvtHNmZ/f0qFA2C8sS87+/vThTUvjvH63uzs7acLcQA0F3ZmZ//3z7ryXp285CeoMvq8Iyvmbb+s9Y0VW5/8b23WtosaP05PadWqVVZWVp0jrhaLxdXESkSQ1CgJ3M058mexFZienDh04gGvdfPGXABCW3d7MyH/581bzxeZATA8Orrp2yP6Vm92Sa56pgyXdm3Yc6PMCszFl35Ys/NaZPfurwgAAMB0+6flCxZ9f1GP3TxxIjesY5dOEjtXCmvZ+bV4/fmc0yp3rgTlVhUfH5+dnV1nU5eMdbh0FqrVq5auugS8LP/iH1UcO/zTxsX//m9ew759O7s1ZZNa9TAME4vF27Ztq9Pu3SjLgXoir288AAQdh499i3X8y8lzvj1xt6DCalDfv7h/9eINJ5FXB/dry3Pr+1Kr3tOnT2Uy2d69e922e2vhqc2zMz4bO2fbPfsfUlPe4f+b+82ZQisAppt75s7Ycrao5qOP3dwzd8aW82orsGgubZ89d+fVOkzQyUv+Asbo6+bWrVv37t1bvXr1rFmzJk6caJ9Z4U6gg53+fsa4m1kbx799MIpdUWSJ75MxoV8iCgAIa/vR/Gmaz1eNeWuHTIwXFYa0GjFv5uBUFgBmAAD7jQ/749s+7LVBwNGrDdFvfjp/3OsiAAAAuPrusT0Hmrf8KDkv52FEpw87Smq0PnmtOr+WsOOnk6efDhjqcvYI5UavUqlmzpy5cOHChQsXjhkzxj6FLoDqGaqk+2zkswKMF7+ZfpH8k4mGiuNTWg9ZMv7DTu4kLflAPa1W+8knn8yaNWvZsmXDhw+3Hz6hQL3QBt7deJ+NBACNf3vmqhDpyux1EwetZHHZVpMRCJu/nfHFp0NS3MyWpFy9oqKiUaNGTZ8+ffny5f3793dr+CSUrTmw5PMdb2wd1SiE2loFHAY182UMv2W0Hvxg0tVtPQtPnbmmMPBTu/yjWxMheYfimtxzp87fVFSGJXXo0b1VtF3XTvfgzIkLt/NLrDxZ2ms97dfKwNV3T548d1fNTmjTuYNxU/e+l0ddODipsb/0j46OJreYCA0NRVHU3u41Go1KpXLjXFbNw+u37hebw2MbN0+LC7c3Zn3hvb/u5mtQaaO0Jonimn1eq/bJnVv3ihnRjZumxvF9+YvMYDDS0tIoPCGHwyFXYuHxeBwOx97u3d66lvbqoSjauHFjqs6GYVhYWBjZnOfxeHw+397u3d661pF6lEiHVxYr8h4+KtAiInlCUnKC2K2gDQmHw0lKSnL/c3WjUCiaNm1KrqEUFhYmlUpdtXvTlaU9un6XPPHNS6uOtdn8+9fDEhAAANAfmdR68PXROb/NbGX8YXj8mIK5549Mb2H3Pcu2v9/g48Ksi4czU5+s7d9yNmvl7d0fx9UK/VkeOHzJX1D4BBDay9nD1/2ul0dprp27bWmfte/A512Euqtbpnw8badK1iweUd6cOKvj7G+2ZPWKRQAw3fl+4qiMr2+hTdLjLI9u5GJN//X9/pX94hAAKq5tmfxR5rYH4WkpfM3s+S36NasM1BKRZPRm0aJFy5YtI+3e7SmdqCixzeuJdb4UFt24bbQDk0D5cemd4twryjN8Nzm2srKysrJy+vTpWVlZpN1D9VyHVM++dU+ZepRIh/AkiemSxHT3qlQT36mn1+v1er1brXtmROdpC0pOjFy4rE/n9QMD5ck+gUKjN575vWDdwXPj0yPwwl+m9By446fz09pHrps85UjM3KO/ZnSUIGXXNn06aNKUf3c4tbq3yHhh+4rt+vd+vLtqcAIXGO6sGfra3O2/z3p7tMx2+9s503big76/sHJoamjFjS2fDJmQi7/xguJ/+uknChefqRVftrf7LVu2pKamUlUQTdi+fTuFnehaT6+93e/YsSOAS2b6AoIgNm/eTNXZLBZLneqRdr9r1y6h0L3IEs0xGAwUqldaWlrrt9BNu2dE95uZNfj4mAXL+3Re1Te6/lg9hUaPNhk0dkR6BAAAie7YthlrD4YZrxzYe7nhB79+QkaShS1HZY7e/vq23/809O7JThmx7uiw+LYJXAAAYIulkTxCbcIAsOQd+/UU0nvFrEGpoQCA8PSRMz7asW/Bi4pfsGDBrVu3qPoyHE4di7mSdn/ixIn6Z/QZGRklJSVUna3OrHzSsM6ePTto0CCqCqIDVqt17NixFJ6wTici1bt69Wq3bt0oLCvgaLVaatWrc00F0u7fe++9rl27Hjp0iMdzPGKMJAycM/dg90/nL+/TYcVbfp307EsoNHpWfIMGz4JXDCYDAACwR3m5xhJi6eAby6tewIvzjQWxahMAodFpzSv+OLTly5t3bt++dvHMxfulIf8AAADL48ePQeLgZtWLYockpKVFI7kvKH7EiBEU7pq0devW5we+UBSlNiBLH8aOHUvhVqj/+c9/nk8aCQkJQRAkOTmZqlJoApPJnDhxIlVns1qtGzZseD6gwWazmUxmw4YNqSqIJvB4PArV0+l0O3fufP44l8tFEGTKlClTp0515vIAAABCGr2fNedQj6nzVvRpP5eqmgUaKkepEBStI1uTlfj6kOHt/m4fD/8AkbRiA6DJWTps5PKHiX36vd199KBpq/Rb3x52jzwPggC8xryNGhM8HDBjxgxvv4Adu3bt0mq11f+SFt+3b9+lS5fy+XxynLY+sWTJEgrPtnHjRvt/SYsfPnz4559/jiBIPVu2EEGQ1atXU3U2DMNqqUda/Lhx4+bMmYNhmP1tWQ+IiIigUD2FQrF79277I/YW7/KaTiGpH8yfcajHnHmruk+rPshkMhjPO5GNIACTyWDQfeapb9MrOQ2TkpF73OR+wzqTfSDLvQPr9hRKu7BBxdEd6880mn3mcNUYtv4XE0ZqyE5MbMT8+srVx5ZOZJKN8d6NG4V4gDpR9hZPpgc49SlT7rE95wvqSpdlsOLbpeN//mltPbBXmttfBit5WopEyYXP5TVYK0q0DKE4rHasxNFx/2Jv8WRovri42LWPUq1kRVG+utI+fMsSyGNFdnp6qpjv1j+wt3hy8S/HfVancnUc0DVOcfy/5zy593BDaYmBI47kVVsFpUr6Tj2PLP4Z7GajF2Qe6rUk6+s2z/r1qEQWB04/eFAOWv69sZju1t1cC69JtITu6Zg+NvrWfQe0WbNqzuftv5nXr5Ht0YktczOynow8MgUBOBrCIsqLVGWWFtEh+vsHv8jek4+3MJtsAInv1e8fSyasmb+xTfa4V4Wlp9ct+voCBl40GEstRqORyWSyWCx7iydBUSeiWZ9e+eXARXIgFyt5lK+PSEgQcwAAgMHrHBNavHq5YfY77j9shUe+/Ofh9E3rRtrtiGFWnt7y1cqdp+6VgMjULsOnZH7YUYY6Oe4Yp9/IE0wmE/kDaW/xJC4vqkOxkpo/vho293DF3/7EaZexfeNHqSzgiWL2UK4ejuPPWzyJY/WcypXYt2v0w+NuKoYXnv9+7eb9Z2/mlWAhEUmdBo3/15heyTyKlaRcvcrKStLiMzIyMjMzPV6ZNbTVuIUZv74191gZpwt54JXB/3xt67x5k1JD5416s2kUKHtwZtcXM9bdbz7+i54SACwAAIBrck8e2m+3fjMS1fzNjnGOX0rkAr/g4wlT3Hb/WrNW9UnmgMYbZTFI0VMiddiSzZM7cgEA3cZk9j4ytXfKnuaNeJryyL4fD33jwvrlI2fEH/x3/2GL19+f8GlG58TF8jB9uWTQ/KlvLbvi25rWwmw29+zZc+3atc8n+XK5Tq4Nr9v0HVWDZdiZLwdOutAta/uU9lWBK1z9YOM2m9ytqYNWfdH9y4e/3fI/raxGGht2a9u8aVv0vTJXz0+13dq1csW0BZxv14xMsTk47mwei9Nv5CFDhw794osvnk+wcbksapU0F6hURNqIZRO7RlV1shmhMjkLAMdKujrzxxfqTZgwoZbFv6gsp3IBAPDWo91SDH96aMXc1X8mfjA5e0mTcM3l3evWLFiIiNd/lk6tkr5QLzMz0xuLf0ZY+08/n/TrnwufOU9Yu0/XbNTOylrap9k0TgSfqdcauMlvjVu3bE6PqGefMeR8NSLnK7uTRAz57kHH9x2/FGRGH9pr5V/2oUPB8B+0w8k/00esOdp9wtWrd5QmfmLLDm0Twqs+0vKTH892OXPuthqNadqmTVo0UPV+69wjXosIBLAT31ny8ysfXL18uwiJb9m+VUMBMpWairpKfn6+o62fWSwWgiCeLcZks+Fk9pdOceNeCadBixRyqUBc++j2/fLQhukNQf6Nh2WhcemNo1kA4MrdmYMWHdPZAABcmf2JKi8f2n8jZsjazMEdwgBITwCPb2bs/+XGILmp7uMpbZ1sqF1nipE3FBYWOlKPqrJeqGQjMYKX5j0T06wqUIYkDHu9Y4fau7I4UtKpYr74RiQsFkutVjtapd0bWyQVc00uFl549vhJw2tTsib2jUUAAMkJqPLGZ4d+uzI61UypktSqJ5VKtVqtJxbPbj37pG52rYMRneef0s7/+39u4/6L9vaYcPvm7QdPNDa+PKlJetP4iKpOVkijzw7pP6v77FGOX/ITfhlDCI1O69R74OB3e1S7PEmIpGnXfoMH9emcFs0FgCtr2WtA/86JVV1LrqRxx94D+vds29DVRU+pxJFPkXh4d5qufT/xww3nKwEAbOP1b6eMW7zngRkAgBfnrJk8ftUZbQhiuvnjjA8nbDpPbrKMSHtn7Tt67NjhLwfIaoQyzfm376hELds0r+oJRrRs0zJccfeuIq/u4wVO1+ahvFXlRD0mk8lmezCDsiYuKAnITZFIMa3FhYVYTEyk7s75E3+cuZanrl7DyJGSzhWzh1r1mEymk704yDEPT877TDGX5AIANyBRr3Tv2LR6gQ22WCxkmi0WC8VKUqseh8Px+S46YTFNX+3Rb/CQ/r06p1e7PO2Ba914ApfLJadZeww7dfDkcRfHbVyzt93ybvkbVx8Rjlr3zzYRwFpzFyQ0TCQNA8DAY9X8RbYWFxWAyA6i6svHEonFxLXCwkKszuPFVuBkv2tfdJ+dwOVyyQUSKMGRkgDY7cZlvVOgNBc9nj90qw7hmMsr2I37fDJr2tDWIsSRks4Vq4bBYFDeH3IOl8v1JhHWJbkAYCW/N2/1e9WfMimO7/zlRkT7d5uiqsvUKYmiaEgI3Ycx6wfQ6D2BCmdkpwycNP7C2A3LF10qOCkZ/Z+RLcIAuY9Pgxd/mDBhRhDK41W3Jxg8Ho9hxAzGuo8bHc+cDwkJoXxAzDlcLre8vJy689WtJLATE1eXlluEMa+MmTnpnXSB6cH/Ni9euOrLqKRNUzqgDpR0opg9HA7Hn7uOAK+N3hW5aoDrcv/3w7rsLRfYb2eN7yUxHKFQST+3MF5m6J7+SU+ouUFZjfpPGtvszs85kaOmvN/UrUQcBhrCAiYMq36GCCOGEawQFqvu4yGOr7P/HzbqS3yRkkhU32W/HduxcGC6mA2QiEY9xo3tG5t35PcrBodKOlHMnqBUz+Ubz5B/YuO0Uf+cc8DQacaGDXP/kcCiVklo9H4DGr0nhISEUBBoBnhJ7p2HBhR/ePXKY/dCGYhIJAFana76ocIrtFqGWCQS131c6Pg6h4WFOXzNN3A4HKr7EO4qyW3QIJap0+pMDpV0opg9/lcvNDSUyfTysXVJLu2176aNydxd0XnO1h0bZg5sGVlnONorJf2v3ksLNHoPEYlEXp7B+uTXNatPJkxeldni9qbVe3LdsXp2YuPkCNW9XGXVQJf5cW5uqTg5uVFK3cfjHWS4IQjC59fOnvA1DAaD2pW5Xqhk+cn1GZNX/v735kAWlaqIkEZLuQ6VdKSYPSwWKzw8/MXvoxTvL5lLN57h0nfL1j/tkLVx9dQ+z9YbB5QqyeVyYYveb0Cj9xCBQOBVw8qafzB7zdmGYyYN7jroXx83v1X1xD2/C5KD4tv3eDP62u5vf1OYATA9/OXbvbfjuvdoG+7ouIPTCIVCr5uHniASiSgLbTtQEtiJGRYnsl75ceOmI3kVAABTwbnvvjmgatmvd0uOYyVdKDlQC0mKxW5tgVUTF+QCABiuHD+aF5Uch988+nM1+3+9VB5DmZLeN5UgrgMHYz2EyWQKhUJPl20x5+1dtfZC4pjNg1LYACS/N3HM6TGbVu1ut3LAc7sgOUDYecz0kQ/mzRnUZ7MMVz5GWo9f9GG7cACAo+N1nyVAVoWiaEREBBXLtjhUckQK++9Nkdq/mzHj0YKv5g4+ulrCrSwu4aQPmTFraFMOAE6UdA7l/RLXYbPZPB7Po7wvi0tyAbxMqVRjCsWaeUfsPozKh67al0mJkiiK+r8r+TJD0Q5TLyVms/n+/fuBrIFV9/Svm38VMWWpzVLldpsvOTpek/Dw8Pj4eP/U9HkMBsOjR4/8WaK1QpV3715+eYgsqUnjhqIaYyyuKWaPUCiMiYnxUVVfiE6ne/LkSaBK917JqKgoiUTih6pCSKDRe4VCoaBwdV8/06BBg8COhuXl5bmzCSq9SEpK8nMGvT0EQdy/f99isbz4rbQkJSUFZtD7Exij9wonkxhpDofDCXjOQ/CqFxYWFkCXBwAwGAyvIvUBRSAQQJf3M9DovYLH4wXj1m4MBoMO+/nx+Xz/Z614D5PJDGDQphqRSBSMWSsoikZHRwe6Fi8d0Oi9RSqVBl3zJCoqKrAN0mpiYmI8XLwlcERHR9PhipO/1n6el+s9wXjF6wHQ6L0FQRA6tI5dh8vl0idmgqKoTCZ78ftoQ1hYGH36cGw22/nqe3RDIBAEYx+uHgCNngJ4PF6wJAXTsBnI5/N9vuIgRdAkaGOPWCwODQ2OLaxh0CaAQKOnBqlUWuf283RDIpFQsXgDxchksqDozstkMjoEbWohl8sDMuvNXeRyeVBc5XpJENwfQQGTyYyLi6P5fczn8+mZqoGiaHx8PM3dSiwWCwSCQNeiDlgsVmxsLK16ac8jlUoDnuX1MkPrR/sHRjAAAAMcSURBVCu44HA4CQkJtPV6Pp9Pt6CNPaGhoQ0aNKCt14vFYjqHHcLDw+Pi4mh7cSUSCX2GhV5OaPpcBSm09XqauzwJbb2e5i5PQluvl0gkUVFRL34fxJfQ7qEKdmjo9UHh8iQ09PqgcHkSGno9dHmaAJdA8AkYhuXn53u2gTi1BJHLV2MwGBQKhc3m2iZPviSIXL6aioqKJ0+e0OG5lkqlMGJDE6DR+wqr1VpQUFBRURGoCjCZzOjoaPokfbuF2WxWKpUGg+HFb/UNCILIZLIgXWERwzClUhnAdYRQFJXL5XD0lT5Ao/ct5eXlKpXK/41THo8XExMTFBmfTigtLS0qKvL/LRoeHh4TE+PnrXSphSAItVpdUlLif/UEAkF0dDStopcQaPQ+x2KxKJVKj1YP9wQGgyGVSumZRukBJpNJqVQajUb/FMdkMmUyGT3TKD3AaDQqlUqTyb2NKj0GRdGYmBg495WGQKP3ExqNRq1WW61Wn5ZSPxrytSAIorS0tKSkxNdjHuHh4fScEuUNZNO+tLTU191KgUAglUqDuhtUj4FG7z8IgtBqtRqNhvL2KZPJJCdD0XDWK1XYbDZSPcpDzwiCCAQCkUhUz34g7cFxvLy8XKPRmM1mas+MoqhQKBQKhfXsB7KeAY0+ABiNRo1Go9VqvRefxWKJRCKBQPDyhEQrKys1Go1Op/P+VGw2WywW8/l8WiV0+hS9Xl9aWkrJbjlcLlckEvH5/ODK6Xo5gUYfMKxWq06nMxqNRqPRrSgqk8nkcrlcLpfH4720iQ0Wi6VaPbdaqQiCVKvH4/F8V0M6YzabSfUwDHNLPRRFuVwuh8MJDw8PxtXwX1qg0dMCm82GYVi1bdlsNoIgbDYbg8FgMBhMJhNBEA6HQzpUPY4weAaO49XqWSwWe/WYTCaDwag2dw6HA9WrBY7jxmdYLBaCIGqph6Jo9b0H4zNBCjR6CAQCqee8LKFJCAQCeWmBRg+BQCD1HGj0EAgEUs+BRg+BQCD1HGj0EAgEUs+BRg+BQCD1HGj0EAgEUs+BRg+BQCD1HGj0EAgEUs/5f65UzFXf6cx6AAAAAElFTkSuQmCC" width="504" height="89" class="img_ev3q"></p>
<p>the code walk through the list of processes A, B and C, adding each ticket value to <code>counter</code> until the value exceeds <code>winner</code></p>
<p>with winner ticket being 300, <code>counter</code> is incremented to 100 to account for A&#x27;s tickets; then <code>counter</code> would be updated to 150 (B&#x27;s tickets), Finally, <code>counter</code> is updated to 400 (&gt; 300), break out the loop with <code>current</code> pointing at C (the winner)</p>
<p><img decoding="async" loading="lazy" alt="image-20230129143818559" src="/assets/images/image-20230129143818559-328ff17f7ed63dde12332cdfe5276477.png" width="401" height="348" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="95-how-to-assign-tickets">9.5 How To Assign Tickets?<a href="#95-how-to-assign-tickets" class="hash-link" aria-label="Direct link to 9.5 How To Assign Tickets?" title="Direct link to 9.5 How To Assign Tickets?">​</a></h2>
<p>“ticket-assignment problem&quot; remains open</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="96-why-not-deterministic">9.6 Why Not Deterministic?<a href="#96-why-not-deterministic" class="hash-link" aria-label="Direct link to 9.6 Why Not Deterministic?" title="Direct link to 9.6 Why Not Deterministic?">​</a></h2>
<p><strong>stride scheduling</strong>, a deterministic fair-share scheduler.</p>
<p><img decoding="async" loading="lazy" alt="image-20230129143835086" src="/assets/images/image-20230129143835086-1aa5696621fbcd73b50386608d256981.png" width="507" height="257" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="97-the-linux-completely-fair-scheduler-cfs">9.7 The Linux Completely Fair Scheduler (CFS)<a href="#97-the-linux-completely-fair-scheduler-cfs" class="hash-link" aria-label="Direct link to 9.7 The Linux Completely Fair Scheduler (CFS)" title="Direct link to 9.7 The Linux Completely Fair Scheduler (CFS)">​</a></h2>
<p>implements fair-share scheduling.</p>
<p>CFS aims to spend very little time marking scheduling decisions, through both its inherent design and its clever use of data structures well-suited to the task.</p>
<p><img decoding="async" loading="lazy" alt="image-20230129144223765" src="data:image/png;base64,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" width="573" height="182" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-operation"><strong>Basic Operation</strong><a href="#basic-operation" class="hash-link" aria-label="Direct link to basic-operation" title="Direct link to basic-operation">​</a></h3>
<p>a simple counting-based technique known as <strong>virtual runtime (vruntime)</strong>.</p>
<p>parameters:</p>
<ul>
<li>
<p><strong>sched_latency</strong>, determine how long one process should run before considering a switch. typical value is 48 (milliseconds); CFS divides by the number (<em>n</em>) processes</p>
</li>
<li>
<p><strong>min_granularity</strong>, usually set to6, CFS will never set the time slice of a process to less than this value, ensuring that not too much time is spent in scheduling overhead.</p>
</li>
</ul>
<p>NOTE: CFS utilizes a periodic timer interrupt, which means it can <strong>only</strong> make decisions at a <strong>fixed</strong> time intervals.CFS trakcs <code>vruntime</code> precisely, it makes the job with a time slice that is not a perfect multiple of the timer interrupt interval , will eventually approximate ideal sharing of the CPU over the long haul</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="weighting-niceness"><strong>Weighting (Niceness)</strong><a href="#weighting-niceness" class="hash-link" aria-label="Direct link to weighting-niceness" title="Direct link to weighting-niceness">​</a></h3>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mtext>time_slice</mtext><mi>k</mi></msub><mo>=</mo><mfrac><msub><mtext>weight</mtext><mi>k</mi></msub><mrow><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow></munderover><mtext>weight</mtext></mrow></mfrac><mo>⋅</mo><mtext>sched_latency</mtext></mrow><annotation encoding="application/x-tex">\text{time\_slice}_k = \frac{\text{weight}_k}{\sum^{n=1}_{n=0}\text{weight}} \cdot {\text{sched\_latency}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0541em;vertical-align:-0.3597em"></span><span class="mord"><span class="mord text"><span class="mord">time_slice</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1264em"><span style="top:-2.3403em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3597em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.5152em;vertical-align:-1.1437em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.156em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954em"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord text"><span class="mord">weight</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">weight</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em"><span style="top:-2.4559em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1437em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em"></span><span class="mord"><span class="mord text"><span class="mord">sched_latency</span></span></span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-red-back-trees"><strong>Using Red-Back Trees</strong><a href="#using-red-back-trees" class="hash-link" aria-label="Direct link to using-red-back-trees" title="Direct link to using-red-back-trees">​</a></h3>
<p>CFS keeps processes in a <strong>red-back tree</strong>, see <a href="https://zefrain.github.io/docs/TOC/computer/Algorithms/Algorithms/ch03#332-%E7%BA%A2%E9%BB%91%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91" target="_blank" rel="noopener noreferrer">第 3 章 查找 | Zefrain&#x27;s Blog</a> and <a href="https://zefrain.github.io/docs/TOC/computer/kernel/Linux%20Kernel%20Development/ch06#1-%E7%BA%A2%E9%BB%91%E6%A0%91-" target="_blank" rel="noopener noreferrer">第 6 章 内核数据结构 Zefrain&#x27;s Blog</a> for detail</p>
<p><img decoding="async" loading="lazy" alt="image-20230129151832254" src="/assets/images/image-20230129151832254-00aaa2791733f0fb788da7c67a25d1ff.png" width="518" height="300" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dealing-with-io-and-sleeping-processes"><strong>Dealing With I/O And Sleeping Processes</strong><a href="#dealing-with-io-and-sleeping-processes" class="hash-link" aria-label="Direct link to dealing-with-io-and-sleeping-processes" title="Direct link to dealing-with-io-and-sleeping-processes">​</a></h3>
<p>CFS sets the <code>vruntime</code> of a job to the minimum value found in the tree when it wakes up. In this way, CFS avoids starvation, but jobs that sleep for short periods of time frequently do not ever get their fair share of the CPU.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/TOC/computer/system/ostep/ch08"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8 Scheduling: The Multi-Level Feedback Queue</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/TOC/computer/system/ostep/ch10"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">10 Multiprocessor Scheduling (Advanced)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#91-basic-concept-tickets-represents-your-share" class="table-of-contents__link toc-highlight">9.1 Basic Concept: Tickets Represents Your Share</a></li><li><a href="#92-ticket-mechanisms" class="table-of-contents__link toc-highlight">9.2 Ticket Mechanisms</a></li><li><a href="#93-implementation" class="table-of-contents__link toc-highlight">9.3 Implementation</a></li><li><a href="#95-how-to-assign-tickets" class="table-of-contents__link toc-highlight">9.5 How To Assign Tickets?</a></li><li><a href="#96-why-not-deterministic" class="table-of-contents__link toc-highlight">9.6 Why Not Deterministic?</a></li><li><a href="#97-the-linux-completely-fair-scheduler-cfs" class="table-of-contents__link toc-highlight">9.7 The Linux Completely Fair Scheduler (CFS)</a><ul><li><a href="#basic-operation" class="table-of-contents__link toc-highlight"><strong>Basic Operation</strong></a></li><li><a href="#weighting-niceness" class="table-of-contents__link toc-highlight"><strong>Weighting (Niceness)</strong></a></li><li><a href="#using-red-back-trees" class="table-of-contents__link toc-highlight"><strong>Using Red-Back Trees</strong></a></li><li><a href="#dealing-with-io-and-sleeping-processes" class="table-of-contents__link toc-highlight"><strong>Dealing With I/O And Sleeping Processes</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/TOC">NOTEs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Zefrain/notes" target="_blank" rel="noopener noreferrer" class="footer__link-item">More<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Zefrain's Blog. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>