<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Reduce Ubuntu Server | Zefrain&#x27;s Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/blog/2024/06/25/reduce-ubuntu-server"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Reduce Ubuntu Server | Zefrain&#x27;s Blog"><meta data-rh="true" name="description" content="0. Sizes for /boot and /boot/efi"><meta data-rh="true" property="og:description" content="0. Sizes for /boot and /boot/efi"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-06-25T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="ubuntu"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://github.com/blog/2024/06/25/reduce-ubuntu-server"><link data-rh="true" rel="alternate" href="https://github.com/blog/2024/06/25/reduce-ubuntu-server" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/blog/2024/06/25/reduce-ubuntu-server" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://github.com/blog/2024/06/25/reduce-ubuntu-server","mainEntityOfPage":"https://github.com/blog/2024/06/25/reduce-ubuntu-server","url":"https://github.com/blog/2024/06/25/reduce-ubuntu-server","headline":"Reduce Ubuntu Server","name":"Reduce Ubuntu Server","description":"0. Sizes for /boot and /boot/efi","datePublished":"2024-06-25T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://github.com/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Zefrain&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Zefrain&#39;s Blog Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.62a5df5e.css">
<script src="/assets/js/runtime~main.2ee0a247.js" defer="defer"></script>
<script src="/assets/js/main.f876e2fc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Homepage</b></a><a class="navbar__item navbar__link" href="/docs/category/TOC">NOTEs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Zefrain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/04/03/ssh-prohibit-password">Prohibit pasword authentication for sshd</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/01/14/git-action-locally">Run git action locally</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/01/13/git-diff-exclude-files">Exclude files from git diff</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/01/10/add-rpath">Modify rpath of a binary program</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/01/10/uninstall-nvidia">Switch Back From NVIDIA to Nouveau</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/12/10/vim-multi-replace">How to Find and Replace Project-wide in Vim</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/11/29/openwrt-firewall">Set Firewall for ZeroTier Interface</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/11/24/aria2-legacy">Aria2 OSSL_PROVIDER_load &#x27;legacy&#x27; failed</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/10/15/aria2-ssl">aria2 SSL/TLS error on openwrt</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/09/20/strlen">Disadvantages of strlen() in Embedded Domain</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/07/25/kvm">Running and Editing ISO file by qemu-kvm</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2024/06/25/reduce-ubuntu-server">Reduce Ubuntu Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/06/19/win-skip-netlogin">win-skip-netlogin</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/06/07/vmdk2img">在硬盘上运行虚拟机系统</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/21/auto-expand-partition">auto-expand-partition</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/20/HOWTO-configure-network-on-ubuntu">HOWTO-configure-network-on-ubuntu</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/20/auto-login">Auth Login at Startup</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/05/20/remove-snapd">Remove snapd on ubuntu</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/12/26/docker-proxy">Set docker proxy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/08/09/gdb-break-if">gdb continue until if condition hit</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/30/win-timsync">Windows set time server use w32tm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/03/pyinstaller-requests">No module named &#x27;charset_normalizer.md__mypyc&#x27;</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/06/15/coredump-settings">coredump related settings</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/06/15/docker-coredump">generate coredump for docker container</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/03/21/yum-syntax-error">yum error with SyntaxError: invalid syntax</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/03/16/docker-copy-from-image">Docker: Copy From Image</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/03/16/docker-nonroot-user-access">Docker: Enable Non-Root User Access</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/02/17/openldap-sync">Why openldap doesn&#x27;t sync from master</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/21/coredump-file-set">How to set coredump file path</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/15/objdump-C-line">How to associate assembly code to exact line in C program?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/14/useful-macro">Useful Macro that can be a template</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/11/vim-copy-to-clipboard">How to copy to clipboard in Vim?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/01/09/setup-local-ntp-server">Configure Local NTP Server</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/20/2022/interface-manage">Connection ‘ens33‘ is not available on device ens33 because device is strictly unmanaged</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/16/2022/docker-container-config">docker  modify config for running container</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/22/2022/git-diff-meld-tool">Set up Meld as Difftool and Mergetool for Git</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/08/2022/gdb-showlist">gdb show list</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/28/2022/dnssec-forward">insecurity proof failed resolving &#x27;$DOMAIN/A/IN&#x27;</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/27/2022/download-with-deps">How To Download Packages With Dependencies Locally In Ubuntu, Debian, Linux Mint, Pop OS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/25/2022/ms_ad_key_concepts_schema">AD 的主要概念</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/20/2022/lockdown-module">Lockdown: unsigned module loading is restricted</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/19/2022/no-response">debug busy process</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/13/2022/elisp-if">execute multiple statements in an &quot;if&quot; statement</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/11/2022/port-forward">iptables port map</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/20/2022/ubuntu-AD-sssd">SSSD and Active Directory</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/20/2022/ubuntu-AD-winbind">Member Server in an Active Directory Domain</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/20/2022/yum-block-obsolete">How to block yum from upgrading obsoleted package?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/18/2022/clean-buff-cache">How to Clear Cache in Linux?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/03/2022/mem-pool">ideas of memory pool</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/30/2022/memory-leak">Debug with memory leak</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/28/2022/curl-exec">execute bash script remotely via curl</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/28/2022/gcc">gcc error when inline without static</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/28/2022/markdown-center">Align in markdown table</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/28/2022/rpm-install">rpm install rpm package with dependencies</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/27/2022/markdown-math">latex (math) support for markdown</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/25/2022/backtrace">backtrace symbols</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gdb print full value">gdb print full value</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/25/2022/markdown">space in markdown link</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/25/2022/vim">vim negative look ahead</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Reduce Ubuntu Server</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-06-25T00:00:00.000Z">June 25, 2024</time> · <!-- -->3 min read</div></header><div id="__blog-post-container" class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="0-sizes-for-boot-and-bootefi">0. Sizes for <code>/boot</code> and <code>/boot/efi</code><a href="#0-sizes-for-boot-and-bootefi" class="hash-link" aria-label="Direct link to 0-sizes-for-boot-and-bootefi" title="Direct link to 0-sizes-for-boot-and-bootefi">​</a></h3>
<ul>
<li><strong>/boot Partition</strong>: You could reduce the <code>/boot</code> partition size to around <strong>200 MB</strong>. This should still be sufficient to hold the kernel and initramfs image. Be cautious, as going too small could lead to issues during unexpected updates or changes that might require space, such as security patches for the kernel.</li>
<li><strong>/boot/efi Partition</strong>: The EFI System Partition (<code>/boot/efi</code>) typically doesn&#x27;t require much space if you&#x27;re only using a few boot loaders. A size of <strong>100 MB</strong> is often recommended as a minimum by many Linux distributions and should be more than adequate for most single-boot configurations.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-pre-installed-ubuntu-server">1. Install pre-installed ubuntu server<a href="#1-install-pre-installed-ubuntu-server" class="hash-link" aria-label="Direct link to 1. Install pre-installed ubuntu server" title="Direct link to 1. Install pre-installed ubuntu server">​</a></h3>
<ul>
<li>Download pre-installed ubuntu server: <a href="https://cdimage.ubuntu.com/ubuntu-server/noble/daily-preinstalled/current/" target="_blank" rel="noopener noreferrer">Ubuntu Server 24.04 (Noble Numbat) Daily Build</a></li>
<li>use <a href="https://help.ubuntu.com/community/mkusb" target="_blank" rel="noopener noreferrer">mkusb - Community Help Wiki</a> to flash: <code>dus xxx.tar.xz</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-remove-unnecessary-packages-compile-envionrment">2. <strong>Remove Unnecessary Packages</strong> (compile envionrment)<a href="#2-remove-unnecessary-packages-compile-envionrment" class="hash-link" aria-label="Direct link to 2-remove-unnecessary-packages-compile-envionrment" title="Direct link to 2-remove-unnecessary-packages-compile-envionrment">​</a></h3>
<p>After installation, you can remove packages that are not necessary for your server&#x27;s purpose:</p>
<ul>
<li>List installed packages:</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dpkg-query -W --showformat=&#x27;${Installed-Size}\t${Package}\n&#x27; | awk &#x27;{print $1/1024 &quot; MB\t&quot; $2}&#x27; | sort -n -r</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Remove unnecessary packages: <code>sudo apt-get remove --purge package-name</code></li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get remove --purge build-essential autoconf automake gcc g++</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-disable-unnecessary-services">3. <strong>Disable Unnecessary Services</strong><a href="#3-disable-unnecessary-services" class="hash-link" aria-label="Direct link to 3-disable-unnecessary-services" title="Direct link to 3-disable-unnecessary-services">​</a></h3>
<p>Ubuntu Server starts several services by default. Disabling services that are not needed can save system resources:</p>
<ul>
<li>Check running services: <code>systemctl list-unit-files --state=enabled</code></li>
<li>Disable a service: <code>sudo systemctl disable service-name</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-clean-up-apt-cache">4. <strong>Clean Up Apt Cache</strong><a href="#4-clean-up-apt-cache" class="hash-link" aria-label="Direct link to 4-clean-up-apt-cache" title="Direct link to 4-clean-up-apt-cache">​</a></h3>
<p>After installing or updating packages, clean up the APT cache to free up disk space:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-limit-installed-software">5. <strong>Limit Installed Software</strong><a href="#5-limit-installed-software" class="hash-link" aria-label="Direct link to 5-limit-installed-software" title="Direct link to 5-limit-installed-software">​</a></h3>
<p>Only install the software that is necessary for your server to function. Evaluate the need for each package before installing it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-configure-noinstallrecommends">6. <strong>Configure NoInstallRecommends</strong><a href="#6-configure-noinstallrecommends" class="hash-link" aria-label="Direct link to 6-configure-noinstallrecommends" title="Direct link to 6-configure-noinstallrecommends">​</a></h3>
<p>By default, <code>apt</code> installs recommended packages along with dependencies. You can limit this behavior by configuring APT to not install recommended packages:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo &#x27;APT::Install-Recommends &quot;0&quot;;&#x27; | sudo tee -a /etc/apt/apt.conf.d/01norecommends</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">echo &#x27;APT::Install-Suggests &quot;0&quot;;&#x27; | sudo tee -a /etc/apt/apt.conf.d/01norecommends</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-use-lightweight-alternatives">7. <strong>Use Lightweight Alternatives</strong><a href="#7-use-lightweight-alternatives" class="hash-link" aria-label="Direct link to 7-use-lightweight-alternatives" title="Direct link to 7-use-lightweight-alternatives">​</a></h3>
<p>Where possible, use lightweight alternatives to common software. For example, use <code>nginx</code> instead of <code>apache2</code> if you need a web server but require less overhead.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-optimize-configuration-files">8. <strong>Optimize Configuration Files</strong><a href="#8-optimize-configuration-files" class="hash-link" aria-label="Direct link to 8-optimize-configuration-files" title="Direct link to 8-optimize-configuration-files">​</a></h3>
<p>Review and optimize configuration files to ensure that no unnecessary modules or plugins are loaded.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-regularly-monitor-and-audit">9. <strong>Regularly Monitor and Audit</strong><a href="#9-regularly-monitor-and-audit" class="hash-link" aria-label="Direct link to 9-regularly-monitor-and-audit" title="Direct link to 9-regularly-monitor-and-audit">​</a></h3>
<p>Set up a routine to regularly check and audit your system:</p>
<ul>
<li>Use tools like <code>ncdu</code> (NCurses Disk Usage) to analyze disk usage.</li>
<li>Use <code>htop</code> or <code>top</code> to monitor running processes and resource usage.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="10-use-system-snapshots">10. <strong>Use System Snapshots</strong><a href="#10-use-system-snapshots" class="hash-link" aria-label="Direct link to 10-use-system-snapshots" title="Direct link to 10-use-system-snapshots">​</a></h3>
<p>Before making significant changes, consider using tools like <code>timeshift</code> to take system snapshots. This allows you to revert back if the changes do not produce the desired effect.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-security-and-updates">11. <strong>Security and Updates</strong><a href="#11-security-and-updates" class="hash-link" aria-label="Direct link to 11-security-and-updates" title="Direct link to 11-security-and-updates">​</a></h3>
<p>Ensure your minimal server setup is secure and receives necessary security updates. Minimal installations can still be vulnerable to security risks.fqn</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ubuntu">ubuntu</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2024/07/25/kvm"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Running and Editing ISO file by qemu-kvm</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/06/19/win-skip-netlogin"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">win-skip-netlogin</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0-sizes-for-boot-and-bootefi" class="table-of-contents__link toc-highlight">0. Sizes for <code>/boot</code> and <code>/boot/efi</code></a></li><li><a href="#1-install-pre-installed-ubuntu-server" class="table-of-contents__link toc-highlight">1. Install pre-installed ubuntu server</a></li><li><a href="#2-remove-unnecessary-packages-compile-envionrment" class="table-of-contents__link toc-highlight">2. <strong>Remove Unnecessary Packages</strong> (compile envionrment)</a></li><li><a href="#3-disable-unnecessary-services" class="table-of-contents__link toc-highlight">3. <strong>Disable Unnecessary Services</strong></a></li><li><a href="#4-clean-up-apt-cache" class="table-of-contents__link toc-highlight">4. <strong>Clean Up Apt Cache</strong></a></li><li><a href="#5-limit-installed-software" class="table-of-contents__link toc-highlight">5. <strong>Limit Installed Software</strong></a></li><li><a href="#6-configure-noinstallrecommends" class="table-of-contents__link toc-highlight">6. <strong>Configure NoInstallRecommends</strong></a></li><li><a href="#7-use-lightweight-alternatives" class="table-of-contents__link toc-highlight">7. <strong>Use Lightweight Alternatives</strong></a></li><li><a href="#8-optimize-configuration-files" class="table-of-contents__link toc-highlight">8. <strong>Optimize Configuration Files</strong></a></li><li><a href="#9-regularly-monitor-and-audit" class="table-of-contents__link toc-highlight">9. <strong>Regularly Monitor and Audit</strong></a></li><li><a href="#10-use-system-snapshots" class="table-of-contents__link toc-highlight">10. <strong>Use System Snapshots</strong></a></li><li><a href="#11-security-and-updates" class="table-of-contents__link toc-highlight">11. <strong>Security and Updates</strong></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/TOC">NOTEs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Zefrain/notes" target="_blank" rel="noopener noreferrer" class="footer__link-item">More<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Zefrain's Blog. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>